(this.webpackJsonpgithub=this.webpackJsonpgithub||[]).push([[0],{78:function(e,t,a){e.exports=a(92)},83:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),l=(a(83),a(138)),i=a(133),u=a(145),s=a(38),p=a(29),m=a(13),d=a(66),f=function(e){return fetch(e).then((function(e){return e.json()}))};var g=function(e,t){var a=Object(n.useContext)(b),r=a.page,c=a.count,o=a.dispatch,l=a.targetUser,i="".concat("https://api.github.com/search").concat(e,"&per_page=").concat(12,"&page=").concat(r),u=Object(d.a)(e?i:null,f),s=u.data,p=u.error,m=u.isValidating;return Object(n.useEffect)((function(){o({type:"setLoadingStatus",payload:m})}),[m,o]),Object(n.useEffect)((function(){if(s){var e=Math.ceil(s.total_count/12),t=e<=1e3?e:1e3;if(t!==c&&o({type:"setTotalPages",payload:t}),""===l){var a=(n=s.items)[n.length*Math.random()|0];o({type:"setTargetUser",payload:a.login})}}var n}),[s,o,c,l]),{data:s,error:p,isValidating:m}},h={form:{query:""},searchParam:"",page:1,count:1,loading:!1,targetUser:"",appStatus:"initial"};function E(e,t){switch(t.type){case"setSearchParam":return Object(m.a)(Object(m.a)({},e),{},{searchParam:e.form.query});case"setPage":return Object(m.a)(Object(m.a)({},e),{},{page:t.payload});case"setLoadingStatus":return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case"setTargetUser":return Object(m.a)(Object(m.a)({},e),{},{targetUser:t.payload});case"setAppStatus":return Object(m.a)(Object(m.a)({},e),{},{appStatus:t.payload});case"setTotalPages":return Object(m.a)(Object(m.a)({},e),{},{count:Math.ceil(t.payload/12)});case"updateForm":return Object(m.a)(Object(m.a)({},e),{},{form:Object(m.a)(Object(m.a)({},e.form),t.payload)});default:throw new Error}}var b=Object(n.createContext)(Object(m.a)(Object(m.a)({},h),{},{changePageHandler:function(){},updateField:function(){},dispatch:function(){}})),y=function(e){var t=e.children,a=Object(n.useReducer)(E,h),c=Object(p.a)(a,2),o=c[0],l=c[1];return r.a.createElement(b.Provider,{value:{form:o.form,page:o.page,searchParam:o.searchParam,count:o.count,loading:o.loading,targetUser:o.targetUser,appStatus:o.appStatus,updateField:function(e){l({type:"updateForm",payload:Object(s.a)({},e.target.name,e.target.value)})},changePageHandler:function(e,t){l({type:"setPage",payload:t})},dispatch:l}},t)},v=function(){var e=Object(n.useContext)(b),t=e.form,a=e.updateField,c=e.dispatch,o=e.loading,s=e.appStatus;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o||"playing"===s||(c({type:"setSearchParam"}),c({type:"setAppStatus",payload:"playing"}))},autoComplete:"off"},r.a.createElement(i.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(i.a,{item:!0,xs:10},r.a.createElement(u.a,{value:t.query,onChange:a,name:"query",placeholder:"Search Github",label:"Search Github",variant:"outlined",fullWidth:!0,autoComplete:"off",type:"search"})),r.a.createElement(i.a,{item:!0,xs:2},r.a.createElement(l.a,{variant:"contained",type:"submit",disabled:o},"Search"))))},j=a(146),O=a(150),S=a(139),w=a(143),C=a(140),P=a(141),k=a(65),x=a(142),U=a(64),_=a.n(U),q=a(149),A=a(147),F=function(e){var t=e.login,a=e.avatar_url,c=e.html_url,o=e.type,i=e.followers_url,u=e.subscriptions_url,s=e.organizations_url,m=e.repos_url,d=Object(n.useState)(!1),f=Object(p.a)(d,2),g=f[0],h=f[1],E=function(e){window.open(e)},y=Object(n.useState)(null),v=Object(p.a)(y,2),j=v[0],U=v[1],F=Object(n.useContext)(b),T=F.targetUser,I=F.dispatch,G=F.appStatus;Object(n.useEffect)((function(){g||"lose"!==G||h(!0)}),[G,h,g]);var H=function(e){U(null),"string"===typeof e&&E(e)},W=function(e,t){"clickaway"!==t&&h(!1)},B=("winner"===G?"success":"try-again"===G?"warning":"lose"===G?"error":void 0)||"success";return r.a.createElement(S.a,null,r.a.createElement(C.a,{avatar:r.a.createElement(O.a,{"aria-label":"avatar",alt:t,src:a}),action:r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{"aria-label":"settings",onClick:function(e){U(e.currentTarget)}},r.a.createElement(_.a,null)),r.a.createElement(k.a,{id:"simple-menu",anchorEl:j,keepMounted:!0,open:Boolean(j),onClose:H},r.a.createElement(x.a,{onClick:function(){return E(c)}},"Go to Profile Page"),r.a.createElement(x.a,{onClick:function(){return H(i)}},"Followers"),r.a.createElement(x.a,{onClick:function(){return H(u)}},"Subscriptions"),r.a.createElement(x.a,{onClick:function(){return H(s)}},"Organizations"),r.a.createElement(x.a,{onClick:function(){return H(m)}},"Repositories"))),title:o,subheader:t}),r.a.createElement(w.a,null,r.a.createElement(l.a,{size:"small",color:"secondary",onClick:function(){t===T?(I({type:"setAppStatus",payload:"winner"}),h(!0)):(I({type:"setAppStatus",payload:"try-again"}),h(!0))}},"Verify!"),r.a.createElement(q.a,{open:Boolean(g),autoHideDuration:6e3,onClose:W},r.a.createElement(A.a,{onClose:W,severity:B},{warning:"Try Again!",error:"You Lose!",success:"You Nailed It!!!!! :D"}[B]))))},T=function(){var e,t=Object(n.useContext)(b),a=t.searchParam,c=t.page,o=t.changePageHandler,l=t.count,u=g(a?"/users?q=".concat(a):void 0),s=u.data,p=u.error,m=u.isValidating;return p?r.a.createElement("div",null,"failed to load"):m?r.a.createElement("div",null,"loading..."):r.a.createElement(i.a,{container:!0,spacing:4},null===s||void 0===s||null===(e=s.items)||void 0===e?void 0:e.map((function(e){return r.a.createElement(i.a,{item:!0,xs:4,key:e.id},r.a.createElement(F,e))})),l>1&&r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(j.a,{count:l,page:c,onChange:o})))},I=a(137),G=a(10),H=a(94),W=a(144),B=function(){var e=Object(G.g)();return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to the GitHub user search game by xthecapx"),r.a.createElement("h2",null,"Instructions"),r.a.createElement(I.a,{dense:!0},r.a.createElement(H.a,null,r.a.createElement(W.a,{primary:"1. Search for an user"})),r.a.createElement(H.a,null,r.a.createElement(W.a,{primary:"2. Click on the user requested before the timer ends"}))),r.a.createElement(l.a,{variant:"contained",color:"primary",onClick:function(){e.push("/game")}},"Start Game"))},L=function(){var e=Object(n.useState)(30),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)(),o=Object(n.useContext)(b),l=o.searchParam,i=o.loading,u=o.targetUser,s=o.dispatch,m=o.appStatus,d=l&&!i&&("playing"===m||"try-again"===m),f=function(){c.current&&(clearInterval(c.current),c.current=void 0)};return Object(n.useEffect)((function(){return d&&(c.current||(c.current=setInterval((function(){return r((function(e){return e-1}))}),1e3))),f}),[d]),{seconds:a,appStatus:m,targetUser:u,dispatch:s}},M=function(){var e=L(),t=e.seconds,a=e.appStatus,c=e.targetUser,o=e.dispatch;return Object(n.useEffect)((function(){t<=0&&o({type:"setAppStatus",payload:"lose"})}),[t,o]),"winner"===a?r.a.createElement("h3",null,"Your Nailed it !!!!!!"):"lose"===a||t<=0?r.a.createElement("h3",null,"Timeout! You Lose!"):"playing"===a||"try-again"===a?r.a.createElement("h3",{className:"time"},t,"s left to find ",r.a.createElement("strong",null,c)):r.a.createElement("h3",null,"Waiting for any query")},N=a(49);a(91);var V=function(){return r.a.createElement(N.a,null,r.a.createElement(y,null,r.a.createElement("div",{className:"App"},r.a.createElement(G.d,null,r.a.createElement(G.b,{exact:!0,path:"/"},r.a.createElement(B,null)),r.a.createElement(G.b,{exact:!0,path:"/game"},r.a.createElement(v,null),r.a.createElement(M,null),r.a.createElement(T,null)),r.a.createElement(G.b,{path:"*"},r.a.createElement(G.a,{to:"/"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[78,1,2]]]);
//# sourceMappingURL=main.66a420a2.chunk.js.map