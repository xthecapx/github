(this.webpackJsonpgithub=this.webpackJsonpgithub||[]).push([[0],{78:function(e,a,t){e.exports=t(92)},83:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),l=t.n(c),o=(t(83),t(138)),i=t(133),u=t(145),s=t(38),m=t(29),p=t(13),d=t(66),g=function(e){return fetch(e).then((function(e){return e.json()}))};var f=function(e,a){var t=Object(n.useContext)(b),r=t.page,c=t.count,l=t.dispatch,o=t.targetUser,i="".concat("https://api.github.com/search").concat(e,"&per_page=").concat(12,"&page=").concat(r),u=Object(d.a)(e?i:null,g),s=u.data,m=u.error,p=u.isValidating;return Object(n.useEffect)((function(){l({type:"setLoadingStatus",payload:p})}),[p,l]),Object(n.useEffect)((function(){if(s){var e=Math.ceil(s.total_count/12),a=e<=1e3?e:1e3;if(a!==c&&l({type:"setTotalPages",payload:a}),""===o){var t=(n=s.items)[n.length*Math.random()|0];l({type:"setTargetUser",payload:t.login})}}var n}),[s,l,c,o]),{data:s,error:m,isValidating:p}},h={form:{query:""},searchParam:"",page:1,count:1,loading:!1,targetUser:"",appStatus:"initial"};function E(e,a){switch(a.type){case"setSearchParam":return Object(p.a)(Object(p.a)({},e),{},{searchParam:e.form.query});case"setPage":return Object(p.a)(Object(p.a)({},e),{},{page:a.payload});case"setLoadingStatus":return Object(p.a)(Object(p.a)({},e),{},{loading:a.payload});case"setTargetUser":return Object(p.a)(Object(p.a)({},e),{},{targetUser:a.payload});case"setAppStatus":return Object(p.a)(Object(p.a)({},e),{},{appStatus:a.payload});case"setTotalPages":return Object(p.a)(Object(p.a)({},e),{},{count:Math.ceil(a.payload/12)});case"updateForm":return Object(p.a)(Object(p.a)({},e),{},{form:Object(p.a)(Object(p.a)({},e.form),a.payload)});default:throw new Error}}var b=Object(n.createContext)(Object(p.a)(Object(p.a)({},h),{},{changePageHandler:function(){},updateField:function(){},dispatch:function(){}})),y=function(e){var a=e.children,t=Object(n.useReducer)(E,h),c=Object(m.a)(t,2),l=c[0],o=c[1];return r.a.createElement(b.Provider,{value:{form:l.form,page:l.page,searchParam:l.searchParam,count:l.count,loading:l.loading,targetUser:l.targetUser,appStatus:l.appStatus,updateField:function(e){o({type:"updateForm",payload:Object(s.a)({},e.target.name,e.target.value)})},changePageHandler:function(e,a){o({type:"setPage",payload:a})},dispatch:o}},a)},v=function(){var e=Object(n.useContext)(b),a=e.form,t=e.updateField,c=e.dispatch,l=e.loading,s=e.appStatus;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l||"playing"===s||(c({type:"setSearchParam"}),c({type:"setAppStatus",payload:"playing"}))},autoComplete:"off"},r.a.createElement(i.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(i.a,{item:!0,xs:10},r.a.createElement(u.a,{value:a.query,onChange:t,name:"query",placeholder:"Search Github",label:"Search Github",variant:"outlined",fullWidth:!0,autoComplete:"off",type:"search"})),r.a.createElement(i.a,{item:!0,xs:2},r.a.createElement(o.a,{variant:"contained",type:"submit",disabled:l},"Search"))))},j=t(146),O=t(150),S=t(139),w=t(143),C=t(140),P=t(141),k=t(65),x=t(142),U=t(64),_=t.n(U),q=t(149),A=t(147),F=function(e){var a=e.login,t=e.avatar_url,c=e.html_url,l=e.type,i=e.followers_url,u=e.subscriptions_url,s=e.organizations_url,p=e.repos_url,d=Object(n.useState)(!1),g=Object(m.a)(d,2),f=g[0],h=g[1],E=function(e){window.open(e)},y=Object(n.useState)(null),v=Object(m.a)(y,2),j=v[0],U=v[1],F=Object(n.useContext)(b),I=F.targetUser,T=F.dispatch,G=F.appStatus,H=function(e){U(null),"string"===typeof e&&E(e)},M=function(e,a){"clickaway"!==a&&h(!1)};return r.a.createElement(S.a,null,r.a.createElement(C.a,{avatar:r.a.createElement(O.a,{"aria-label":"avatar",alt:a,src:t}),action:r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{"aria-label":"settings",onClick:function(e){U(e.currentTarget)}},r.a.createElement(_.a,null)),r.a.createElement(k.a,{id:"simple-menu",anchorEl:j,keepMounted:!0,open:Boolean(j),onClose:H},r.a.createElement(x.a,{onClick:function(){return E(c)}},"Go to Profile Page"),r.a.createElement(x.a,{onClick:function(){return H(i)}},"Followers"),r.a.createElement(x.a,{onClick:function(){return H(u)}},"Subscriptions"),r.a.createElement(x.a,{onClick:function(){return H(s)}},"Organizations"),r.a.createElement(x.a,{onClick:function(){return H(p)}},"Repositories"))),title:l,subheader:a}),r.a.createElement(w.a,null,r.a.createElement(o.a,{size:"small",color:"secondary",onClick:function(){a===I?(T({type:"setAppStatus",payload:"winner"}),h(!0)):(T({type:"setAppStatus",payload:"try-again"}),h(!0))}},"Verify!"),r.a.createElement(q.a,{open:f,autoHideDuration:6e3,onClose:M},r.a.createElement(A.a,{onClose:M,severity:"winner"===G?"success":"warning"},"winner"===G?"You Nailed it!":"Try Again!"))))},I=function(){var e,a=Object(n.useContext)(b),t=a.searchParam,c=a.page,l=a.changePageHandler,o=a.count,u=f(t?"/users?q=".concat(t):void 0),s=u.data,m=u.error,p=u.isValidating;return m?r.a.createElement("div",null,"failed to load"):p?r.a.createElement("div",null,"loading..."):r.a.createElement(i.a,{container:!0,spacing:4},null===s||void 0===s||null===(e=s.items)||void 0===e?void 0:e.map((function(e){return r.a.createElement(i.a,{item:!0,xs:4,key:e.id},r.a.createElement(F,e))})),o>1&&r.a.createElement(i.a,{item:!0,xs:12},r.a.createElement(j.a,{count:o,page:c,onChange:l})))},T=t(137),G=t(10),H=t(94),M=t(144),W=function(){var e=Object(G.g)();return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to the GitHub user search game by xthecapx"),r.a.createElement("h2",null,"Instructions"),r.a.createElement(T.a,{dense:!0},r.a.createElement(H.a,null,r.a.createElement(M.a,{primary:"1. Search for an user"})),r.a.createElement(H.a,null,r.a.createElement(M.a,{primary:"2. Click on the user requested before the timer ends"}))),r.a.createElement(o.a,{variant:"contained",color:"primary",onClick:function(){e.push("/game")}},"Start Game"))},N=function(){var e=Object(n.useState)(30),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useContext)(b),o=l.searchParam,i=l.loading,u=l.targetUser,s=l.dispatch,p=l.appStatus,d=o&&!i&&"playing"===p;return Object(n.useEffect)((function(){var e=null;return d?(e=setInterval((function(){c((function(e){return e-1}))}),1e3),t<=0&&(clearInterval(e),c(30))):!d&&t<=0&&(clearInterval(e),c(30),s({type:"setAppStatus",payload:"lose"})),function(){return clearInterval(e)}}),[d,t,s]),"winner"===p?r.a.createElement("h3",null,"Your Nailed it !!!!!!"):"lose"===p||t<=0?r.a.createElement("h3",null,"Timeout!!!"):"playing"===p||"try-again"===p?r.a.createElement("h3",{className:"time"},t,"s left to find ",r.a.createElement("strong",null,u)):r.a.createElement("h3",null,"Waiting for any query")},V=t(49);t(91);var z=function(){return r.a.createElement(V.a,null,r.a.createElement(y,null,r.a.createElement("div",{className:"App"},r.a.createElement(G.d,null,r.a.createElement(G.b,{exact:!0,path:"/"},r.a.createElement(W,null)),r.a.createElement(G.b,{exact:!0,path:"/game"},r.a.createElement(v,null),r.a.createElement(N,null),r.a.createElement(I,null)),r.a.createElement(G.b,{path:"*"},r.a.createElement(G.a,{to:"/"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[78,1,2]]]);
//# sourceMappingURL=main.1e59d3f7.chunk.js.map